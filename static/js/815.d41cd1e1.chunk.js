"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[815],{5815:function(t,s,e){e.r(s),e.d(s,{default:function(){return B},withRouter:function(){return R}});var n=e(5671),r=e(3144),o=e(136),a=e(3668),i=e(8683),u=e(2791),p="ProfileInfo_avaBlock__mzsHR",l=e(493),c=e(885),d=e(184),h=function(t){var s=(0,u.useState)(!1),e=(0,c.Z)(s,2),n=e[0],r=e[1],o=(0,u.useState)(t.status),a=(0,c.Z)(o,2),i=a[0],p=a[1];(0,u.useEffect)((function(){p(t.status)}),[t.status]);return(0,d.jsxs)("div",{children:[!n&&(0,d.jsx)("div",{children:(0,d.jsxs)("span",{onDoubleClick:function(){r(!0)},children:[t.status||"-----"," "]})}),n&&(0,d.jsx)("div",{children:(0,d.jsx)("input",{onChange:function(t){p(t.currentTarget.value)},autoFocus:!0,onBlur:function(){r(!1),t.updateStatus(i)},value:i})})]})},f=e(4353),m=function(t){var s=t.profile,e=t.status,n=t.updateStatus,r=t.isOwner,o=t.savePhoto;if(!s)return(0,d.jsx)(l.Z,{});return(0,d.jsx)("div",{children:(0,d.jsxs)("div",{className:p,children:[(0,d.jsx)("img",{src:s.photos.large||f}),r&&(0,d.jsx)("input",{type:"file",onChange:function(t){t.target.files.length&&o(t.target.files[0])}}),(0,d.jsxs)("div",{children:[" ",s.fullName]}),(0,d.jsx)(h,{status:e,updateStatus:n})]})})},x=e(6070),v="MyPosts_postsBlock__jSZdM",j="MyPosts_posts__ldHUt",P="MyPosts_button__jOJN8",g="MyPosts_post__pnAY6",_="Post_item__oSg3x",S=function(t){return(0,d.jsxs)("div",{className:_,children:[(0,d.jsx)("img",{src:"https://www.easy-profile.com/support.html?controller=attachment&task=download&tmpl=component&id=2883"}),t.message," ",t.Like]})},w=e(5705),y=e(132),k=y.Ry().shape({newPostText:y.Z_().min(1,"Too Short!").max(100,"Too Long!").required("Required")}),Z=u.memo((function(t){var s=t.profilePage.posts.map((function(t){return(0,d.jsx)(S,{message:t.message,Like:t.like})}));return(0,d.jsxs)("div",{className:v,children:[(0,d.jsx)("h2",{children:"My posts "}),(0,d.jsx)("div",{children:(0,d.jsx)(N,{addPost:t.addPost})}),(0,d.jsx)("div",{className:j,children:s})]})})),N=function(t){return(0,d.jsx)(w.J9,{initialValues:{newPostText:""},validationSchema:k,onSubmit:function(s,e){var n=e.resetForm;!function(s){t.addPost(s)}(s.newPostText),n({values:""})},children:function(){return(0,d.jsxs)(w.l0,{children:[(0,d.jsxs)("div",{className:g,children:[(0,d.jsx)(w.gN,{component:"textarea",name:"newPostText",placeholder:"Enter your post",validate:k}),(0,d.jsx)(w.Bc,{name:"newPostText",component:"div"})]}),(0,d.jsx)("div",{className:P,children:(0,d.jsx)("button",{type:"submit",children:" New Post "})})]})}})},C=Z,I=e(6434),T=e(7781),b=e(1548),M=(0,T.qC)((0,I.$j)((function(t){return{profilePage:t.profilePage}}),(function(t){return{addPost:function(s){t((0,x.Wl)(s))}}})),b.S)(C),U=function(t){return(0,d.jsxs)("div",{children:[(0,d.jsx)(m,{profile:t.profile,status:t.status,updateStatus:t.updateStatus,isOwner:t.isOwner,savePhoto:t.savePhoto}),(0,d.jsx)(M,{})]})},O=e(6871);function R(t){return function(s){var e={params:(0,O.UO)()};return(0,d.jsx)(t,(0,i.Z)((0,i.Z)({},s),{},{match:e}))}}var q=function(t){(0,o.Z)(e,t);var s=(0,a.Z)(e);function e(){return(0,n.Z)(this,e),s.apply(this,arguments)}return(0,r.Z)(e,[{key:"refreshProfile",value:function(){var t=this.props.match.params.userId;t||(t=this.props.authorizedUserId),this.props.getUserProfile(t),this.props.getStatus(t)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(t,s,e){this.props.match.params.userId!==t.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,d.jsx)(U,(0,i.Z)((0,i.Z)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,isOwner:!this.props.match.params.userId,savePhoto:this.props.savePhoto}))}}]),e}(u.Component),B=(0,T.qC)((0,I.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.userId}}),{getUserProfile:x.et,getStatus:x.lR,updateStatus:x.Nf,savePhoto:x.Ju}),R,b.S)(q)}}]);
//# sourceMappingURL=815.d41cd1e1.chunk.js.map